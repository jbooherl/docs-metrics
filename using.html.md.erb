---
breadcrumb: App Metrics Documentation
title: Monitoring and troubleshooting apps with App Metrics
owner: App Metrics
list_style_none: true
---

<strong><%= modified_date %></strong>

You can monitor and troubleshoot apps using App Metrics.

## <a id="overview"></a> Understand the health and performance of your apps

PCF Metrics helps you understand and troubleshoot the health and performance of your apps by offering the following:

* [Container Metrics](#container): Three graphs measuring CPU, memory, and disk usage percentages
* [Network Metrics](#network): Three graphs measuring requests, HTTP errors, and response times
* [Custom Metrics](#custom): User-customizable graphs for measuring app performance, such as Spring Boot Actuator gauge metrics
* [App Events](#events): A graph of update, start, stop, crash, SSH, and staging failure events
* [Logs](#logs): A list of app logs that you can search, filter, and download
* [Monitors (Beta)](#monitors): User-defined monitors with configurable trigger thresholds based on app metrics and events
* [Trace Explorer](#trace): A dependency graph that traces a request as it flows through your apps and their endpoints, along with the corresponding logs

The following sections describe a standard workflow for using PCF Metrics to monitor or troubleshoot your apps.

##<a id='get-started'></a> View an App

In a browser, navigate to `metrics.YOUR-SYSTEM-DOMAIN` and log in with your User Account and Authentication (UAA) credentials. Choose an app for which you want to view metrics or logs. PCF Metrics respects UAA permissions such that you can view any app that runs in a space that you have access to.

<%= image_tag('images/1-5-app-search.png', :alt => "Search for an app") %>

PCF Metrics displays app data for a given time frame. See the sections below to [Change the Time Frame](#time) for the dashboard, [Interpret Metrics](#interpret-metrics) information on each graph, and [Trace App Requests](#trace) with the Trace Explorer.

<%= image_tag('images/1-5-metrics-dashboard.png', :alt => "Metrics 1.5 dashboard") %>

## <a id="time"></a>Change the Time Frame

The charts show time along the horizontal axis.
You can change the time frame for all charts and the logs by using the time selector options. You can select from several preset timescales or select a custom date range.
In addition, from any chart, you can click and drag to zoom in on areas of interest. This adjusts all of the charts, and logs, to show data for that time frame.

**Zoom**: From within any graph, click and drag to zoom in on areas of interest. This adjusts all of the graphs, and the logs, to show data from that time frame.

<%= image_tag('images/1-5-chart-zoom.png', :alt => "Drag to select time frame on charts") %>

## <a id="streaming"></a>Streaming Metrics

Streaming Metrics mode allows the metrics charts on your dashboard to be updated in real-time as metrics data is ingested.

To enable streaming metrics visualization, click the **PLAY** button next to the timeline in the top right of the dashbboard. This will show three hours of streamed metrics data. You can drag the left end of the selector to increase or decrease the duration of streaming metrics being displayed.

<%= image_tag('images/stream-start-button.png', :alt => "Metrics Stream Start Button") %>

**Note**: The Logs drawer is not available while metrics data is being streamed. To view Logs, pause streaming by clicking the **PAUSE** button next to the timeline in the top right of the dashbboard, or simply click the Logs tab at the bottom of the dashboard to pause Metrics streaming and open the Logs drawer.

<%= image_tag('images/stream-pause-button.png', :alt => "Metrics Stream Pause Button") %>

The time frame can be modified in both Streaming and Static Metrics modes.

##<a id='metrics'></a> Add, Edit, and Delete Charts

The PCF Metrics dashboard allows users to add, edit, and delete charts.

**Add Chart**: To add a new chart, use the following steps:

1. Click **+ ADD METRIC CHART** at the top left of the dashboard.
<%= image_tag('images/1-5-add-chart.png', :alt => "Add metric chart") %>
1. In the modal window, either select a metric from the dropdown menu or type the name of the metric into the search bar to filter results.
<%= image_tag('images/1-5-chart-metric-select.png', :alt => "Metric selection for new chart") %>
1. Select an aggregation type. This determines how to combine the data from multiple instances.
<%= image_tag('images/1-5-metrics-chart-options.png', :alt => "Aggregation and option selection for new chart") %>

**Edit Chart**: To change how instances are aggregated for an existing metric, click the pencil icon on the header of the metric chart. When the **Edit Chart** modal window appears, you can choose the aggregation type and click **Save** to apply changes.

<%= image_tag('images/1-5-chart-edit.png', :alt => "Edit chart") %>

**Delete Chart**: To delete an existing chart on the dashboard, click the trash can icon on the header of the metric chart and then click **Delete**.

<%= image_tag('images/1-5-chart-delete.png', :alt => "Delete chart") %>

## <a id="time"></a>Viewing and reordering  Metric Charts

**Reorder**: Each metric has its own chart. You can click and drag the chart header to change the ordering of charts.

<%= image_tag('images/1-5-move-chart.png', :alt => "Rearrange metrics charts") %>

**Expand**: To see more details in complex graphs, you can expand a chart by clicking the icon in the chart header.

<%= image_tag('images/1-5-expand-chart.png', :alt => "Expand metrics charts") %>

You can collapse the chart by clicking the icon again.

<%= image_tag('images/1-5-reduce-chart.png', :alt => "Collapse metrics charts") %>

## <a id="app-instance"></a>Viewing metrics at App-Instance Level

PCF Metrics relays metric data at the app-instance level to allow for an in-depth troubleshooting experience. Users are able to view the app metrics related to a specific instance index, which correlates directly with the app instance indices shown in [Apps Manager](https://docs.pivotal.io/pivotalcf/console/manage-apps.html#manage-app).

To view a specific app instance, select the desired instance from the **instance filter** dropdown menu at the top right of the dashboard.

<%= image_tag('images/1-5-instance-select.png', :alt => "Select individual app instances") %>

Alternatively, you can click an instance line on the metric chart that interests you while All Instances is selected in the dropdown.

<%= image_tag('images/1-5-instance-select-line.png', :alt => "Select specific app instance") %>

##<a id='interpret-metrics'></a> Interpreting metrics

See the following sections to understand how to use each of the views on the dashboard to monitor and troubleshoot your app.

### <a id='container'></a> Container metrics charts

Three **Container Metrics** charts are available on the PCF Metrics dashboard:

* CPU usage percentage:<br><br>A spike in CPU might point to a process that is computationally heavy. Scaling app instances can relieve the immediate pressure, but you need to investigate the app to better understand and fix the root cause.<br><br>

* Memory usage percentage:<br><br>A consistent, gradual increase in memory might mean a resource leak in the code. Scaling app memory can relieve the immediate pressure, but you need to find and resolve the underlying issue so that it does not occur again.<br><br>

* Disk usage percentage:<br><br>A spike in disk might mean the app is writing logs to files instead of STDOUT, caching data to local disk, or serializing large sessions to disk.

### <a id='network'></a> Network metrics charts

Three **Network Metrics** charts are available on the PCF Metrics dashboard:

* Number of network requests per minute:<br><br>A spike in HTTP requests means more users are using your app. Scaling app instances can reduce the response time.<br><br>

* Number of network request errors per minute:<br><br>A spike in HTTP errors means one or more 5xx errors have occurred. Check your app logs for more information.<br><br>

* Average latency of a request in milliseconds:<br><br>A spike in response time means your users are waiting longer. Scaling app instances can spread that workload over more resources and result in faster response times.

### <a id='events'></a> Events

The **Events** graph shows the following app events: **Crash**, **Fail** (staging failures), **Update**, **Stop**, **Start**, and **SSH**.

<%= image_tag('images/1-5-events-chart.png', :alt => "Events chart") %>

<p class="note"><strong>Note</strong>: The <b>SSH</b> event corresponds to someone successfully using SSH to access a container that runs an instance of the app.</p>

See the following topics for more information about app events:

* [About Starting Applications](https://docs.pivotal.io/pivotalcf/devguide/deploy-apps/start-restart-restage.html)
* [Troubleshooting Application Deployment and Health](https://docs.pivotal.io/pivotalcf/devguide/deploy-apps/troubleshoot-app-health.html)

### <a id='custom'></a> Custom metrics

Users can configure their apps to emit custom metrics out of the [Loggregator Firehose](https://docs.pivotal.io/pivotalcf/loggregator/architecture.html#firehose) and then view these metrics on the PCF Metrics dashboard.

For more information about how to configure apps to emit custom metrics on PCF v2.2 through v2.4, see [Metrics Forwarder for PCF](https://docs.pivotal.io/metrics-forwarder/index.html).

For more information about how to configure apps to emit custom metrics on PCF v2.5 and later, see [Configuring the Metric Registrar](https://docs.pivotal.io/pivotalcf/metric-registrar/index.html).

If you have configured the apps correctly, you should be able to automatically see custom gauge metrics on the PCF Metrics dashboard when you add a chart.

Custom counter metrics are not supported.

<%= image_tag('images/1-5-custom-metric-chart.png', :alt => "Create custom metric charts") %>

In addition, Spring Boot apps with actuators implemented emit [Spring Boot Actuator metrics](https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-metrics.html) out of the box, without any changes to source code. In PCF Metrics, these metrics look similar to the following:

<%= image_tag('images/1-5-spring-boot-metric-chart.png', :alt => "Create Spring Boot metric charts") %>

###<a id='metrics-data'></a> Access metrics data through MySQL
You can access metrics data through the PCF Metrics datastore.

The following table provides login information.

| Element      |    Details                                                                         |
|----------|-----------------------------------------------------------------------------------------|
| URL      |    MySQL VM IP                                                                          |
| Port     |    3306                                                                                 |
| Username |    MYSQL_USER defined in the environment of the `metrics-queue` app                     |
| Password |    MYSQL_PASSWORD defined in the environment of the `metrics-queue` app                 |
| Database |    metrics                                                                              |
| Tables   |    app_event and app_metric                                                             |

To access the MySQL datastore, you can do the following:

**Method 1.** Use BOSH to SSH into the MySQL VM and run the `/var/vcap/packages/pxc/bin/mysql -u<Username> -P<Port> -h<URL> -p` command.

**Method 2.** Assign an external IP to the MySQL VM and a firewall rule to open ports 3306 and 3308 and access MySQL externally.

**Method 3.** Open a tunnel into your IaaS network and connect that way externally.


### <a id="logs"></a>Logs

The **Logs** view displays app log data ingested from the Loggregator Firehose:

<p class="note"><strong>Note</strong>: Logs with non-UTF-8 characters or non-standard UUID application GUIDs are not stored.</p>

The green time needle visible on metrics charts and the logs histogram indicates the beginning of the logs. Depending on the sort order of your logs, you can see different results:

* Sort by **newest first (default)**:
	<%= image_tag('images/newest-first.png') %>

	The logs drawer retrieves all logs in the selected time frame that is _older than/to the left of_ the needle. The log outlined in green is the newest log among the logs located to the left of the needle placement.
* Sort by **oldest first**:
	<%= image_tag('images/oldest-first.png') %>

	The logs drawer retrieves all logs in the selected time frame that is _newer than/to the right of_ the needle.
	The log outlined in green is the oldest log among the logs located to the right of the needle placement.

To adjust the placement of the time needle, click the handle at the bottom of the needle and drag to reposition it.
Alternatively, you can click anywhere along the x-axis of a metric chart or the logs histogram to snap the needle to that position.
These are the steps to create an Indicator document:

1. Find the metric you want to monitor.
2. Write the PromQL query.
3. Add the PromQL to your Indicator document.

### Find the metric name

Verify that the metrics are being emitted.
After you configure Metrics Registrar to scrape your metrics
endpoint, verify your respective endpoint for metric names.

If you use a Prometheus style metrics endpoint, check your app's metrics endpoint at
`app.domain/metrics` and search for the desired metric.

To validate Spring Boot Actuator and Micrometer metrics,
see [Metrics](https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-metrics.html)
in _Spring Boot Actuator: Production-ready Features_ in the Spring Boot documentation.

### Writing a PromQL query

After you have the metric name, write a PromQL query to see the metric:

1. Find additional example PromQL for any of the default charts on the dashboard.
   Click **Info** on any chart or visit the
   [PromQL Query Examples](https://prometheus.io/docs/prometheus/latest/querying/examples/) documentation.

2. Use the PromQL Explorer to test out PromQL before you insert it in the Indicator document:

    1. Click the **+** button on the dashboard.

    2. Test out the queries to see how the graph appears before you place it in the Indicator document.

    <p class="note"><strong>Note</strong>: The PromQL query must have the <code>source_id</code> tag for non-admin users.
    </p>

<p>App Metrics supports using a <code>source_id</code> parameter in the PromQL query which refers to the <code>"$source_id"</code> of the current app.

For example:

```shell
cpu{source_id=“$sourceId”}
```

### Add the PromQL query to your Indicator document

After you have the PromQL query ready, insert it in the Indicator document.

For example, if you have a custom metric `customMetricName500` and want to graph the amount of errors over a one minute
time period, then your PromQL query is:

  ```shell
`sum(avg_over_time(customMetricName500{source_id=\"$sourceId\"}[1m]))`
```

This is an example of the YAML file for an Indicator document:

```console
apiVersion: indicatorprotocol.io/v1
kind: IndicatorDocument

metadata:
  labels:
    deployment: "my deployment name"

spec:
  product:
    name: org,space,app-name
    version: 0.0.1

  indicators:
    - name: CustomErrorCount500
      promql: "sum(rate(customMetricName500{source_id='$sourceId'}[1m]))"
      documentation:
        title: "Custom Metric 500 Errors"
      presentation:
        units: "none"
```

The  `org,space,app-name` in the example determines which app these indicators are applied to.
Replace `org,space,app-name` with the org, space, and app name of the app dashboard that you want to customize.

### <a id="indicator-document-schema"></a> Indicator document schema

App Metrics uses a derivative version of the Indicator Protocol.

## <a id='monitoring'></a> Custom monitoring and alerting

You can add custom monitoring and alerting to your dashboard indicators by creating a monitor document for your app.

### Create a Monitor document

Monitors are linked to specific indicators, so the first step to adding custom monitoring and alerting to your
app is to verify the names of the indicators you want to monitor.

You can view the indicator names for each chart on your app's dashboard by pointing to the desired chart,
clicking the three vertical dots and selecting **Info**.

The indicator corresponds to one of your custom indicators or to one of the following default indicator names:

* RequestCount
* HttpLatency
* ErrorCount
* CPU
* MemoryPercentage
* DiskPercentage

After you have the indicator names you can create your monitor document that defines the threshold for your indicator
and the webhook to send alerts to.

The following example is an YAML file for an monitor document:

```yaml
product: org,space,app-name

webhook_url: https://my-slack-webhook.com

monitors:
  - name: 500 Errors For Application
    indicator: ErrorCount
    warning:
       operator: gte
       threshold: 1.0
       duration: 1m
       only_every: 1h
    critical:
       operator: gte
       threshold: 2.0
       duration: 1m
       only_every: 15m
```
<p class="note"><strong>Note</strong>: The `org,space,app-name` is responsible for defining which app these indicators are applied to.
Replace this with the org, space, and app name of the app you want to monitor.</p>

Also, `webhook_url`: `https://my-slack-webhook.com` must be where alerts are sent when a threshold is surpassed.

The Slack application is currently the only supported use case, but other webhook platforms might work, if they accept a text payload.

### <a id="monitor-document-schema"></a> Monitor document schema

For more detailed information on the monitor document schema, see [Monitor Document Template Reference](./monitor-document-reference.html).

## <a id="custom-metric-demos"></a> Custom metric demos

View the following videos to enhance your understanding of metric charts:

* [Adding custom application metric charts using Indicator Protocol](https://www.youtube.com/watch?v=KKed-LwJ0BM).
* [Platform-level metric charts to the dashboard](https://www.youtube.com/watch?v=z7CVbYzjxVU).

## <a id="logs"></a>Logs

The **Logs** view displays app log data ingested from the Loggregator Reverse Log Proxy (RLP):

<p class="note"><strong>Note</strong>: Logs with non-UTF-8 characters or non-standard UUID app GUIDs are not stored.</p>

You can interact with the **Logs** view in the following ways:

* **Keyword**: Perform a keyword search. While searching for a keyword, a histogram that shows matching log frequency for the current time frame will be displayed at the top of the Logs drawer. The histogram updates with blue bars based on what you enter. Hover over a histogram bar to view the number of logs for a specific time.
* **Highlight**: Enter a term to visually highlight within your search. While searching for a keyword and highlighting terms, the histogram updates with yellow bars to indicate where the highlighted terms appear within the Keyword search results. Hover over a histogram bar to view the number of logs for a specific time that contain the highlighted term.
* **Sources**: Choose which sources to display logs from. For more information, see [Log Types and Their Messages](https://docs.pivotal.io/pivotalcf/devguide/deploy-apps/streaming-logs.html#format).
* **Download**: Download a file containing logs for the current search.
* **Copy**: Click the copy icon to copy the text of the log.
* **View in Trace Explorer**: Open a window to see the trace of the request associated with the log. See [Trace App Requests](#trace).

###<a id='logs-data'></a> Access Logs Data Through PostgreSQL
You can access logs data through the PCF Metrics datastore.

The table below provides login information.

| Element      |    Details                                                                         |
|----------|-----------------------------------------------------------------------------------------|
| URL      |    PostgreSQL VM IP                                                                     |
| Port     |    5524                                                                                 |
| Username |    POSTGRES_USERNAME defined in the environment of the `logs-queue` app                 |
| Password |    POSTGRES_PASSWORD defined in the environment of the `logs-queue` app                 |
| Database |    metrics                                                                              |
| Tables   |    app_log                                                                              |


To access the PostgreSQL datastore, you can do the following:

**Method 1.** Use BOSH to SSH into the PostgreSQL VM and run the `/var/vcap/packages/postgres-9.6.8/bin/psql -U<Username> -p<Port> <Database>` command.

**Method 2.** Open a tunnel into your IaaS network and connect that way externally.

## <a id="monitors"></a>Monitors (Beta)

PCF Metrics 1.6 includes the Monitors Beta which allows users to create monitors on container, network, and custom metrics, as well as events. Users can also set trigger thresholds on these monitors to be notified via the PCF Metrics UI and webhooks when their criteria is met.

<%= image_tag('images/triggered-monitors-chart.png', :alt => "Triggered Monitors in Metrics Chart") %>

### <a id="monitor-create"></a>Creating Monitors

To create and manage monitors, click on the **Monitors Beta** link in the left menu, then click on **Manage**.

<%= image_tag('images/monitors-beta.png', :alt => "Manage Monitors menu link") %>

To create a Metrics Monitor, click the **+ ADD METRIC MONITOR** button.

<%= image_tag('images/add-metric-monitor.png', :alt => "Create Metric Monitor") %>

* Select the metric that you want to monitor from the available metrics in the dropdown in the Criteria builder.
* Depending on the type of monitor that you are creating, you can select to trigger the monitor when the returned value is Above or Below the specified threshold.
* Specify a Critical Threshold value (required) on which the monitor will be triggered.
* Specify a Warning Threshold value (optional) if you wish to receive a notification before the monitor reaches the Critical Threshold.
* Select a Trigger freqency to set how often the monitor will send the triggered notifications to the UI or specified webhook.
* Create a Title for the Monitor (will be displayed in the Manage and Triggered Monitors views).
* Enter a webhook URL for Critical Notifications (optional). An example and instructions on how to create Slack webhooks can be found in the UI, but you can specify other webhooks URLs of your choice.
* Enter a webhook URL for Warning Notifications (optional). An example and instructions on how to create Slack webhooks can be found in the UI, but you can specify other webhooks URLs of your choice.
* Modify the JSON body for the notifications as needed. A link to the app's Mertric's dashboard is included by default.
* You can send a test of these triggered monitor notifications by clicking the **TEST NOTIFICATION** link above the JSON body of the Critical and Warning notifications.
* Click the **SAVE** button to save your monitor.

<%= image_tag('images/manage-metric-monitor.png', :alt => "Manage Metric Monitor") %>

To create an Events Monitor, click the **+ ADD EVENT MONITOR** button.

<%= image_tag('images/add-event-monitor.png', :alt => "Create Event Monitor") %>

* Select the event type that you want to monitor from the dropdown in the Criteria builder.
* Specify a Critical Threshold value (required) on which the monitor will be triggered.
* Specify a Warning Threshold value (optional) if you wish to receive a notification before the monitor reaches the Critical Threshold.
* Select a Trigger freqency to set how often the monitor will send the triggered notifications to the UI or specified webhook.
* Create a Title for the Monitor (will be displayed in the Manage and Triggered Monitors views).
* Enter a webhook URL for Critical Notifications (optional). An example and instructions on how to create Slack webhooks can be found in the UI, but you can specify other webhooks URLs of your choice.
* Enter a webhook URL for Warning Notifications (optional). An example and instructions on how to create Slack webhooks can be found in the UI, but you can specify other webhooks URLs of your choice.
* Modify the JSON body for the notifications as needed. A link to the app's Mertric's dashboard is included by default.
* You can send a test of these triggered monitor notifications by clicking the **TEST NOTIFICATION** link above the JSON body of the Critical and Warning notifications.
* Click the **SAVE** button to save your monitor.

<%= image_tag('images/manage-event-monitor.png', :alt => "Manage Event Monitor") %>

### <a id="monitor-management"></a>Manage Monitors

Users can find their current monitors under the Manage section of Monitors. To edit or delete a monitor, click the appropriate Monitor from the list and make the necessary changes.

<%= image_tag('images/manage-monitors-list.png', :alt => "Manage Monitors List") %>

### <a id="monitor-management"></a>View Triggered Monitors

Users can view previously triggered monitors under the Triggered section of Monitors.

<%= image_tag('images/triggered-monitors.png', :alt => "Triggered Monitors List") %>

### <a id="monitor-api"></a>Monitors Endpoint

PCF Metrics 1.6 makes managing application metric and events monitors easier by providing API and YAML file configuration support. For more information, please see our [API documentation](./api/monitors.html).

## <a id="trace"></a>Trace App Requests

A request to one of your apps initiates a workflow within the app or system of apps. The record of this workflow is a _trace_, which you can use to troubleshoot app failures and latency issues. In the Trace Explorer view, PCF Metrics displays an interactive graph of a trace and its corresponding logs. See the sections below to understand how to use the Trace Explorer.


###<a id="before"></a> Prerequisites

PCF Metrics constructs the Trace Explorer view using trace IDs shared across app logs. Before you [use the Trace Explorer](#trace-explorer), examine the following list to ensure PCF metrics can extract the necessary data from your app logs for your specific app type.

* **Spring**: Follow the steps below.
1. Ensure you are using Spring Boot v1.4.3 or later.
1. Ensure you are using Spring Cloud Sleuth v1.0.12 or later.
1. Add the following to your app dependency file:
<pre>dependencies { (2)
compile "org.springframework.cloud:spring-cloud-starter-sleuth"
}</pre>
* **Node.js**, **Go**, and **Python**: Ensure that the servers associated with your app do not modify HTTP requests in a way that removes the `X-B3-TraceId`, `X-B3-SpanId`, and `X-B3-ParentSpan` headers from a request. You also need to add Trace ID, Span ID, and Parent Span ID to the SLF4J MDC in your app logs to correlate logs within the Trace Explorer.
* **Ruby**: Ruby servers that use a library depending on Rack modify HTTP request headers in a way that is incompatible with PCF Metrics. If you want to trace app requests for your Ruby apps, ensure that your framework does not rely on Rack. You may need to write a raw Ruby server that preserves the `X-B3-TraceId`, `X-B3-SpanId`, and `X-B3-ParentSpan` headers in the request. You also need to add Trace ID, Span ID, and Parent Span ID to the SLF4J MDC in your app logs to correlate logs within the Trace Explorer.

Make note of the following prerequisites before you query the Log Store:

This section explains how to view the trace for a request received by your app and interact with the Trace Explorer.

1. Select an app on the PCF Metrics dashboard.
1. Click the Trace Explorer icon in a log for which you want to trace the request.
	<%= image_tag('images/click-trace.png') %>

* The Trace Explorer displays the apps and endpoints involved in completing a request, along with the corresponding logs:
	<%= image_tag('images/trace-explorer.png') %>
	A request corresponds to a single trace ID displayed in the top left corner. Each row includes an app in the left column and a _span_ in the right column. A span is a particular endpoint within the app and the time it took to execute in milliseconds. By default, the graph lists each app and endpoint in the order they were called.
	<p class="note"><strong>Note</strong>: If you do not have access to the space for an app involved in the request, you cannot see the spans or logs from that app.</p>
* You can click a span to show only logs from that span or any number of spans to toggle which logs appear. Clicking a span also creates a box with that particular span ID in the **Logs** view:
	<%= image_tag('images/click-span.png') %>
* If you click `APP APP-NAME` within a log, PCF Metrics returns you to the dashboard view for that app, with the time frame focused on the time of the log that you clicked from.
